<!--<form [formGroup]="dynamicForm">-->
<!--  <div class="card">-->
<!--  @for (form of forms; track form.type) {-->

<!--    @if(dynamicForm.get(form.key)?.value && dynamicForm.get(form.key)?.value !== '' && dynamicForm.get(form.key)?.value === parsedData[form.key]) {-->
<!--        <ng-container [formControlName]="form.key" *ngComponentOutlet="form.component; inputs: { formName: form.key, data: form.data, sessionData: parsedData[form.key]  }" />-->
<!--    }-->
<!--  }-->
<!--  </div>-->
<!--  <div class="card">-->
<!--    @for (form of forms; track form.type) {-->
<!--      @if(dynamicForm.get(form.key) && dynamicForm.get(form.key)?.value !== parsedData[form.key]) {-->
<!--        <div>-->
<!--          <ng-container [formControlName]="form.key" *ngComponentOutlet="form.component; inputs: { formName: form.key, data: form.data }" />-->
<!--        </div>-->
<!--      }-->
<!--    }-->
<!--  </div>-->

<!--  <button type="submit" (click)="onSubmit()">test</button>-->
<!--</form>-->

<form [formGroup]="dynamicForm">
  <div class="card" *ngIf="parsedData">
    <ng-container *ngFor="let form of forms">
      <ng-container *ngIf="dynamicForm.get(form.key)?.value && dynamicForm.get(form.key)?.value !== '' && dynamicForm.get(form.key)?.value === parsedData[form.key]">
        <ng-container [formControlName]="form.key" *ngComponentOutlet="form.component; inputs: { formName: form.key, data: form.data, sessionData: parsedData[form.key]  }"></ng-container>
      </ng-container>
    </ng-container>
    <button type="submit">Edit</button>
  </div>
  <div class="card">
    <ng-container *ngFor="let form of forms">
      <ng-container *ngIf="shouldShowForm(form) && dynamicForm.get(form.key)?.value !== parsedData[form.key]">
        <div>
          <ng-container [formControlName]="form.key" *ngComponentOutlet="form.component; inputs: { formName: form.key, data: form.data }"></ng-container>
        </div>
      </ng-container>
    </ng-container>
  </div>

  <button type="submit" (click)="onSubmit()">test</button>
</form>
